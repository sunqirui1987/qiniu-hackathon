# OneStory 设计系统

## 概述

本文档定义OneStory平台的全局设计规范，包括色彩系统、字体规范、间距系统、组件样式和响应式断点。

---

## 1. 色彩系统

### 1.1 主色调

```css
/* 品牌主色 */
--primary-color: #3B82F6;          /* 主蓝色 */
--primary-hover: #2563EB;          /* 悬停态 */
--primary-active: #1E40AF;         /* 激活态 */
--primary-light: #DBEAFE;          /* 浅色背景 */
--primary-lighter: #F0F5FF;        /* 更浅背景 */
```

### 1.2 中性色

```css
/* 文字颜色 */
--text-primary: #1A1A1A;           /* 主要文字 */
--text-secondary: #344054;         /* 次要文字 */
--text-tertiary: #667085;          /* 三级文字 */
--text-disabled: #D0D5DD;          /* 禁用文字 */

/* 背景颜色 */
--bg-primary: #FFFFFF;             /* 主背景 */
--bg-secondary: #F9FAFB;           /* 次要背景 */
--bg-tertiary: #F2F4F7;            /* 三级背景 */
--bg-hover: #F9FAFB;               /* 悬停背景 */

/* 边框颜色 */
--border-primary: #E4E7EC;         /* 主边框 */
--border-secondary: #D0D5DD;       /* 次要边框 */
--border-light: #F2F4F7;           /* 浅色边框 */
```

### 1.3 功能色

```css
/* 成功 */
--success-color: #10B981;
--success-light: #D1FAE5;

/* 警告 */
--warning-color: #F59E0B;
--warning-light: #FEF3C7;

/* 错误 */
--error-color: #F04438;
--error-light: #FEE2E2;

/* 信息 */
--info-color: #3B82F6;
--info-light: #DBEAFE;
```

### 1.4 语义化颜色

```css
/* 状态颜色 */
--status-completed: #10B981;       /* 已完成 */
--status-pending: #6B7280;         /* 待处理 */
--status-generating: #F59E0B;      /* 生成中 */
--status-failed: #F04438;          /* 失败 */

/* 视频轨道颜色 */
--track-video: #3B82F6;            /* 视频轨道 */
--track-audio: #10B981;            /* 音频轨道 */
--track-subtitle: #F59E0B;         /* 字幕轨道 */
```

---

## 2. 字体系统

### 2.1 字体家族

```css
/* 主字体 - 思源黑体 */
--font-family-base: 'Source Han Sans CN', 'Noto Sans SC', -apple-system, 
                     BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 
                     Arial, sans-serif;

/* 等宽字体 - 用于代码和时间显示 */
--font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', 
                     Consolas, 'Courier New', monospace;
```

### 2.2 字号规范

```css
/* 标题字号 */
--font-size-h1: 32px;              /* 大标题 */
--font-size-h2: 24px;              /* 二级标题 */
--font-size-h3: 20px;              /* 三级标题 */
--font-size-h4: 18px;              /* 四级标题 */

/* 正文字号 */
--font-size-xl: 18px;              /* 大号正文 */
--font-size-lg: 16px;              /* 常规正文 */
--font-size-base: 14px;            /* 基础字号 */
--font-size-sm: 13px;              /* 小号字 */
--font-size-xs: 12px;              /* 超小号字 */
```

### 2.3 字重规范

```css
--font-weight-regular: 400;        /* 常规 */
--font-weight-medium: 500;         /* 中等 */
--font-weight-semibold: 600;       /* 半粗 */
--font-weight-bold: 700;           /* 粗体 */
```

### 2.4 行高规范

```css
--line-height-tight: 1.25;         /* 紧凑 */
--line-height-normal: 1.5;         /* 常规 */
--line-height-relaxed: 1.75;       /* 宽松 */
--line-height-loose: 2.0;          /* 松散 */
```

---

## 3. 间距系统

### 3.1 间距尺度

```css
/* 8px基准间距系统 */
--spacing-0: 0;
--spacing-1: 4px;                  /* 0.5x */
--spacing-2: 8px;                  /* 1x - 基准 */
--spacing-3: 12px;                 /* 1.5x */
--spacing-4: 16px;                 /* 2x */
--spacing-5: 20px;                 /* 2.5x */
--spacing-6: 24px;                 /* 3x */
--spacing-8: 32px;                 /* 4x */
--spacing-10: 40px;                /* 5x */
--spacing-12: 48px;                /* 6x */
--spacing-16: 64px;                /* 8x */
--spacing-20: 80px;                /* 10x */
```

### 3.2 组件间距应用

```css
/* 卡片内边距 */
--card-padding: var(--spacing-6);        /* 24px */

/* 按钮内边距 */
--button-padding-y: var(--spacing-3);    /* 12px */
--button-padding-x: var(--spacing-6);    /* 24px */

/* 表单间距 */
--form-item-margin: var(--spacing-6);    /* 24px */

/* 列表间距 */
--list-item-padding: var(--spacing-4);   /* 16px */
```

---

## 4. 圆角系统

```css
--radius-none: 0;
--radius-sm: 4px;                  /* 小圆角 - 按钮、输入框 */
--radius-base: 8px;                /* 基础圆角 - 卡片 */
--radius-lg: 12px;                 /* 大圆角 - 弹窗 */
--radius-xl: 16px;                 /* 超大圆角 */
--radius-full: 9999px;             /* 圆形 - 头像、标签 */
```

---

## 5. 阴影系统

```css
/* 阴影层级 */
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
--shadow-base: 0 1px 3px rgba(0, 0, 0, 0.1), 
               0 1px 2px rgba(0, 0, 0, 0.06);
--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 
             0 2px 4px rgba(0, 0, 0, 0.05);
--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 
             0 4px 6px rgba(0, 0, 0, 0.05);
--shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 
             0 10px 10px rgba(0, 0, 0, 0.04);
--shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);

/* 内阴影 */
--shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.06);
```

---

## 6. 响应式断点

### 6.1 断点定义

```css
/* 移动端 */
--breakpoint-mobile-max: 767px;
--breakpoint-mobile: 320px - 767px;

/* 平板端 */
--breakpoint-tablet-min: 768px;
--breakpoint-tablet-max: 1023px;
--breakpoint-tablet: 768px - 1023px;

/* 桌面端 */
--breakpoint-desktop-min: 1024px;
--breakpoint-desktop-max: 1439px;
--breakpoint-desktop: 1024px - 1439px;

/* 大屏幕 */
--breakpoint-wide-min: 1440px;
--breakpoint-wide: 1440px+;
```

### 6.2 媒体查询使用

```css
/* 移动端优先 */
@media (min-width: 768px) {
  /* 平板及以上 */
}

@media (min-width: 1024px) {
  /* 桌面及以上 */
}

@media (min-width: 1440px) {
  /* 大屏幕 */
}

/* 桌面端优先 */
@media (max-width: 1023px) {
  /* 平板及以下 */
}

@media (max-width: 767px) {
  /* 移动端 */
}
```

### 6.3 响应式布局规范

#### 网格列数

```
移动端（<768px）:   1列
平板端（768-1023px）: 2-3列
桌面端（>1024px）:   4列
```

#### 容器宽度

```css
移动端:   100% (无固定宽度)
平板端:   90vw (最大1000px)
桌面端:   1280px
大屏幕:   1440px
```

---

## 7. 按钮组件

### 7.1 按钮尺寸

```css
/* 大号按钮 */
--button-lg-height: 48px;
--button-lg-padding: 16px 32px;
--button-lg-font-size: 16px;

/* 常规按钮 */
--button-base-height: 40px;
--button-base-padding: 12px 24px;
--button-base-font-size: 14px;

/* 小号按钮 */
--button-sm-height: 32px;
--button-sm-padding: 8px 16px;
--button-sm-font-size: 13px;
```

### 7.2 按钮类型

#### 主要按钮（Primary）

```css
.button-primary {
  background: var(--primary-color);
  color: #FFFFFF;
  border: none;
  border-radius: var(--radius-sm);
  font-weight: var(--font-weight-medium);
  transition: all 200ms ease;
}

.button-primary:hover {
  background: var(--primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.button-primary:active {
  background: var(--primary-active);
  transform: translateY(0);
}

.button-primary:disabled {
  background: var(--text-disabled);
  cursor: not-allowed;
  opacity: 0.6;
}
```

#### 次要按钮（Secondary）

```css
.button-secondary {
  background: transparent;
  color: var(--primary-color);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-sm);
  font-weight: var(--font-weight-medium);
}

.button-secondary:hover {
  background: var(--bg-hover);
  border-color: var(--primary-color);
}
```

#### 文本按钮（Text）

```css
.button-text {
  background: transparent;
  color: var(--text-secondary);
  border: none;
  padding: 8px 12px;
}

.button-text:hover {
  color: var(--primary-color);
  background: var(--bg-hover);
}
```

---

## 8. 输入框组件

### 8.1 输入框规范

```css
.input {
  height: 40px;
  padding: 0 12px;
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  background: var(--bg-primary);
  transition: all 200ms ease;
}

.input:hover {
  border-color: var(--border-secondary);
}

.input:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px var(--primary-light);
}

.input:disabled {
  background: var(--bg-tertiary);
  color: var(--text-disabled);
  cursor: not-allowed;
}

.input::placeholder {
  color: var(--text-tertiary);
}
```

### 8.2 输入框尺寸

```css
/* 大号输入框 */
.input-lg {
  height: 48px;
  padding: 0 16px;
  font-size: var(--font-size-lg);
}

/* 小号输入框 */
.input-sm {
  height: 32px;
  padding: 0 8px;
  font-size: var(--font-size-sm);
}
```

---

## 9. 卡片组件

```css
.card {
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-base);
  box-shadow: var(--shadow-sm);
  padding: var(--card-padding);
  transition: all 200ms ease;
}

.card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}
```

---

## 10. 过渡动画

### 10.1 过渡时长

```css
--duration-fast: 150ms;            /* 快速 - 简单交互 */
--duration-base: 200ms;            /* 基础 - 常规交互 */
--duration-slow: 300ms;            /* 慢速 - 复杂交互 */
--duration-slower: 500ms;          /* 更慢 - 页面切换 */
```

### 10.2 缓动函数

```css
--ease-in: cubic-bezier(0.4, 0, 1, 1);
--ease-out: cubic-bezier(0, 0, 0.2, 1);
--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
```

---

## 11. 图标系统

### 11.1 图标尺寸

```css
--icon-xs: 12px;
--icon-sm: 16px;
--icon-base: 20px;
--icon-lg: 24px;
--icon-xl: 32px;
--icon-2xl: 48px;
```

### 11.2 图标使用规范

- 主要操作图标: 20px
- 导航图标: 24px
- 状态图标: 16px
- 装饰图标: 根据上下文调整

---

## 12. Z-index 层级

```css
--z-dropdown: 1000;                /* 下拉菜单 */
--z-sticky: 1020;                  /* 粘性定位 */
--z-fixed: 1030;                   /* 固定定位 */
--z-modal-backdrop: 1040;          /* 模态遮罩 */
--z-modal: 1050;                   /* 模态弹窗 */
--z-popover: 1060;                 /* 气泡提示 */
--z-tooltip: 1070;                 /* 工具提示 */
--z-notification: 1080;            /* 通知消息 */
```

---

## 13. 可访问性

### 13.1 最小点击区域

```css
--min-touch-target: 44px;          /* 移动端最小触摸目标 */
--min-click-target: 32px;          /* 桌面端最小点击目标 */
```

### 13.2 对比度要求

- 正文文字: 至少 4.5:1
- 大号文字: 至少 3:1
- UI组件: 至少 3:1

### 13.3 焦点指示

```css
.focusable:focus {
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
}

.focusable:focus:not(:focus-visible) {
  outline: none;
}
```

---

## 14. 响应式设计原则

### 14.1 移动端优先

所有设计默认从移动端开始，逐步增强到桌面端。

```css
/* 基础样式（移动端） */
.container {
  padding: var(--spacing-4);
}

/* 平板端增强 */
@media (min-width: 768px) {
  .container {
    padding: var(--spacing-6);
  }
}

/* 桌面端增强 */
@media (min-width: 1024px) {
  .container {
    padding: var(--spacing-8);
  }
}
```

### 14.2 断点使用规范

#### Dashboard项目列表

```
移动端（<768px）:   1列布局，单栏显示
平板端（768-1023px）: 2-3列网格，侧边栏可折叠
桌面端（>1024px）:   4列网格，固定侧边栏
```

#### 视频编辑器

```
移动端（<768px）:   单栏布局，隐藏时间轴，使用简化编辑器
平板端（768-1023px）: 可折叠侧边栏，简化时间轴控制
桌面端（>1024px）:   三栏布局（列表+预览+时间轴），完整功能
```

---

## 15. 设计令牌使用示例

### 15.1 按钮示例

```jsx
// React / Vue 组件
<button className="btn-primary-lg">
  新建项目
</button>

// CSS
.btn-primary-lg {
  height: var(--button-lg-height);
  padding: var(--button-lg-padding);
  font-size: var(--button-lg-font-size);
  background: var(--primary-color);
  color: #FFFFFF;
  border-radius: var(--radius-sm);
  transition: all var(--duration-base) var(--ease-out);
}
```

### 15.2 卡片示例

```jsx
// 项目卡片
<div className="project-card">
  <img src="thumbnail.jpg" />
  <h3>项目名称</h3>
  <p>最后编辑: 10分钟前</p>
</div>

// CSS
.project-card {
  width: 280px;
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-base);
  box-shadow: var(--shadow-base);
  transition: all var(--duration-base) var(--ease-out);
}

.project-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

/* 响应式 */
@media (max-width: 767px) {
  .project-card {
    width: 100%;
  }
}
```

---

## 相关文档

- [架构设计](./架构设计.md)
- [Dashboard页面](./page/02-Dashboard.md)
- [视频视图](./page/10-视频视图.md)
